<!DOCTYPE html>
<html>
<head>
  <title>Lyrics Page</title>
  <meta charset="utf-8">
  <meta name="description" content="Your description">
		<meta name="keywords" content="Your,Keywords">
		<meta name="author" content="HimanshuGupta">
		
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		
		<!-- Styles -->
		<!-- Bootstrap CSS -->
		<link href="css/bootstrap.min.css" rel="stylesheet">	
		<!-- Animate CSS -->
		<link href="css/animate.min.css" rel="stylesheet">
		<!-- Basic stylesheet -->
		<link rel="stylesheet" href="css/owl.carousel.css">
		<!-- Font awesome CSS -->
		<link href="css/font-awesome.min.css" rel="stylesheet">		
		<!-- Custom CSS -->
		<link href="css/style.css" rel="stylesheet">
		<link href="css/style-color.css" rel="stylesheet">
		
		<!-- Favicon -->
		<link rel="shortcut icon" href="img/logo/favicon.ico">
</head>
<body>
    <header>
				<!-- secondary menu -->
				<!-- primary menu -->
				<nav class="navbar navbar-fixed-top navbar-default">
					<div class="container">
						<!-- Brand and toggle get grouped for better mobile display -->
						<div class="navbar-header">
							<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
								<span class="sr-only">Toggle navigation</span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
							</button>
							<!-- logo area -->
							<a class="navbar-brand" href="#home">
								<!-- logo image -->
								<img class="img-responsive" src="img/logo/logo.png" alt="" />
							</a>
						</div>

						<!-- Collect the nav links, forms, and other content for toggling -->
						<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
							<ul class="nav navbar-nav navbar-right">
								
								<li><a href="#joinus">Join Us</a></li>
								<li><a href="#lyrics">Lyrics</a></li>
								<li><a href="#contact">Contact</a></li>
								
							</ul>
						</div><!-- /.navbar-collapse -->
					</div><!-- /.container-fluid -->
				</nav>
			</header>
           
            <div></div>
            <div class="lyrics-heading">
  <h1 style="display: flex; justify-content: center;">Lyrics</h1>
                </div>
  <div id="lyricsContainer"></div>
  <script>
    const lyricsContainer = document.getElementById('lyricsContainer');

    function createLyricsItem(lyricsData) {
      const lyricsItem = document.createElement('div');
      const lyricsWithLineBreaks = lyricsData.lyrics.replace(/\n/g, '<br>');
      const lyricsWithParagraphs = `<p>${lyricsWithLineBreaks.replace(/\n \n/g, '</p><p>')}</p>`;
      lyricsItem.innerHTML = `
        <div class="lyrics">
          <h2>${songTitle}</h2>
          <p>${lyricsData.artist}</p>
          ${lyricsWithParagraphs}
        </div>
      `;
      lyricsContainer.appendChild(lyricsItem);
    }

    // Fetch the lyrics data based on query parameters
    const urlParams = new URLSearchParams(window.location.search);
    const songId = urlParams.get('id');
    const songTitle = urlParams.get('title');

    // Headers for the fetch request
    const Headers = {
      'Content-Type': 'application/json',
      'Accept': 'application/json',
      'Access-Control-Allow-Origin': '*',
      'Access-Control-Allow-Methods': 'GET, POST, PATCH, PUT, DELETE, OPTIONS',
    };

    // Fetch lyrics data based on songId
    fetch(`https://allyricsbackend-production.up.railway.app/music/${songId}`, { Headers })
      .then(response => response.json())
      .then(lyricsData => {
        createLyricsItem(lyricsData);
        // Append lyrics data to lyricsContainer
      })
      .catch(error => console.error(error));
  </script>

  <footer>

  
  </footer>

			<footer>
				<div class="container">
					<!-- social media links -->
					<div class="social">
						<a class="h-facebook" href="#"><i class="fa fa-facebook"></i></a>
						<a class="h-google" href="#"><i class="fa fa-google-plus"></i></a>
						<a class="h-linkedin" href="#"><i class="fa fa-linkedin"></i></a>
						<a class="h-twitter" href="#"><i class="fa fa-twitter"></i></a>
					</div>
					<!-- copy right -->
					<p class="copy-right">&copy; copyright <script>
  var date = new Date();
  var year = date.getFullYear();
  document.write(year);
</script>, All rights are reserved.</p>
  

				</div>
                <li><a href="login.html">Admin</a></li>
  <li><a href="support">Support Us</a></li>
  <li><a href ="team">Team</a></li>
			</footer>
</body>
</html>
